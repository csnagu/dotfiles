# Homebrew
eval "$(/opt/homebrew/bin/brew shellenv)"

# My Scripts
export PATH="$HOME/.local/bin:$PATH"

# golang
export PATH=$PATH:`go env GOPATH`/bin

# ASDF
export ASDF_DATA_DIR="$HOME/.asdf"
export PATH="${ASDF_DATA_DIR:-$HOME/.asdf}/shims:$PATH"
. /opt/homebrew/opt/asdf/libexec/asdf.sh

# Auto-Complete
## ASDF
fpath=(${ASDF_DATA_DIR:-$HOME/.asdf}/completions $fpath)

## Docker - http://docs.docker.jp/compose/completion.html
## Docker Compose - http://docs.docker.jp/compose/completion.html
fpath=(~/.zsh/completion $fpath)

## ZSH
source $(brew --prefix)/share/zsh-autosuggestions/zsh-autosuggestions.zsh
FPATH=$(brew --prefix)/share/zsh-completions:$FPATH

## AWC CLI
#autoload bashcompinit && bashcompinit
#complete -C '/opt/homebrew/bin/aws_completer' aws
#complete -C '/opt/homebrew/bin/aws_completer' awslocal

autoload -Uz compinit && compinit

# prompt
## starship
eval "$(starship init zsh)"

# zsh履歴機能
export HISTFILE=${HOME}/.zsh_history # .zsh_historyにコマンドを保存する
export HISTSIZE=100000            # メモリに展開するヒストリの数
export SAVEHIST=100000            # .zhistoryに保存するコマンドの数
setopt hist_ignore_dups           # 直前と同じコマンドをヒストリに記録しない
setopt hist_ignore_all_dups       # ヒストリに追加されるコマンドが古いものと同じなら古いものを削除
setopt hist_ignore_space          # スペースで始まるコマンドはヒストリから削除
setopt share_history              # ヒストリを共有する
setopt extended_history           # zsh の開始・終了時刻を.zhistoryに記録
setopt hist_reduce_blanks         # 余分な空白は詰めて記録
setopt hist_verify                # ヒストリを呼び出してから実行する間に一旦編集可能
setopt hist_no_store              # historyコマンドは履歴に登録しない
setopt hist_expand                # 補完時にヒストリを自動的に展開
setopt inc_append_history         # 履歴をインクリメンタルに追加

# fzf
source <(fzf --zsh)

